# 좌석 예약 시스템

## 1. 문제 정의

좌석은 특정 공연 회차 동안 한 명의 사용자만 점유할 수 있는 자원이다.

동시에 발생하는 예약 요청으로 인해 좌석 중복 점유와 상태 충돌이 발생할 수 있다.

이를 방지하기 위해 좌석의 상태 관리와 동시성 제어가 필요하다.

---

## 2. 요구사항

- 하나의 좌석은 동일한 공연 회차에서 하나의 예약만 가질 수 있다.
- 좌석은 다음 상태를 가진다.
  - AVAILABLE
  - HOLD
  - CONFIRMED
- HOLD 상태는 만료 시간이 지나면 자동으로 해제된다.
- 예약을 확정할 때, 예약 상태 변경과 좌석 상태 변경은 하나의 트랜잭션으로 처리된다.

---

## 3. 범위 제외

- 실제 결제 연동
- 프론트엔드 UI
- 관리자 페이지
- 할인, 쿠폰, 좌석 등급 정책

---

## 4. 도메인 모델

- 공연 (Performance)
- 공연 회차 (PerformanceInstance)
- 좌석 (Seat)
- 예약 (Reservation)

---

## 5. 설계 기준

- 좌석 상태는 좌석(Seat)이 소유한다.
- 동시성 제어는 좌석(Seat) 단위를 기준으로 한다.
